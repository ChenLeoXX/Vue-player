{"version":3,"sources":["webpack:///./src/api/rank.js","webpack:///src/base/songlist/songlist.vue","webpack:///./src/base/songlist/songlist.vue?a738","webpack:///./src/base/songlist/songlist.vue","webpack:///src/components/music-list/music-list.vue","webpack:///./src/components/music-list/music-list.vue?0a08","webpack:///./src/components/music-list/music-list.vue","webpack:///src/components/top-list/top-list.vue","webpack:///./src/components/top-list/top-list.vue?7951","webpack:///./src/components/top-list/top-list.vue"],"names":["data","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_2__config__","uin","needNewCode","platform","Object","__WEBPACK_IMPORTED_MODULE_1_common_js_jsonp__","topid","tpl","page","type","songlist","Array","Boolean","album","index","songlist_songlist","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","song","key","on","click","$event","selectItem","directives","name","rawName","value","expression","class","getRankCls","domProps","textContent","_s","getRankText","_v","getDesc","staticRenderFns","base_songlist_songlist","__webpack_require__","normalizeComponent","ssrContext","transform","dom","backdrop","music_list","mixin","Scroll","scroll_scroll","SongList","Loadding","loadding","String","bgImage","miniTranslateY","methods","extends_default","y","back","songs","bottom","refresh","watch","newVal","imageHeight","percent","translateY","blur","RESERVED_HEIGHT","scale","zIndex","music_list_music_list","innerHTML","title","ref","style","length","randomPlayAll","attrs","listenScorll","listenScroll","probe-type","probeType","scroll","rank","select","music_list_Component","music_list_normalizeComponent","__webpack_exports__","top_list","_getMusicList","computed","topTitle","image","_this","musicData","ret","musicList","top_list_top_list","bg-image","Component"],"mappings":"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","file":"static/js/2.d2cbcfe72c713e706160.js","sourcesContent":["import jsonp from 'common/js/jsonp'\r\nimport {commonParams, options} from './config'\r\n\r\nexport function getTopList() {\r\n  const url = 'https://c.y.qq.com/v8/fcg-bin/fcg_myqq_toplist.fcg'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    uin: 0,\r\n    needNewCode: 1,\r\n    platform: 'h5'\r\n  })\r\n\r\n  return jsonp(url, data, options)\r\n}\r\n\r\nexport function getMusicList(topid) {\r\n  const url = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_toplist_cp.fcg'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    topid,\r\n    needNewCode: 1,\r\n    uin: 0,\r\n    tpl: 3,\r\n    page: 'detail',\r\n    type: 'top',\r\n    platform: 'h5'\r\n  })\r\n\r\n  return jsonp(url, data, options)\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/rank.js","<template>\r\n  <div class=\"song-list\">\r\n    <ul>\r\n      <li @click=\"selectItem(song,index)\" class=\"item\" v-for=\"(song, index) in songs\" :key=\"index\">\r\n        <div class=\"rank\" v-show=\"rank\">\r\n          <span :class=\"getRankCls(index)\" v-text=\"getRankText(index)\"></span>\r\n        </div>\r\n        <div class=\"content\">\r\n          <h2 class=\"name\">{{song.name}}</h2>\r\n          <p class=\"desc\">{{getDesc(song)}}</p>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name:\"song-list\",\r\n  props:{\r\n      songs:{\r\n          type:Array,\r\n          default:[]\r\n      },\r\n      rank: {\r\n        type: Boolean,\r\n        default: false\r\n      }      \r\n  },\r\n  methods:{\r\n      getDesc(song){\r\n          return `${song.singer} ${song.album}`\r\n      },\r\n      selectItem(song,index){//告诉父组件,点击了的歌曲信息,和索引\r\n        this.$emit('select',song,index)\r\n      },\r\n      getRankCls(index) {\r\n        if (index <= 2) {\r\n          return `icon icon${index}`\r\n        } else {\r\n          return 'text'\r\n        }\r\n      },\r\n      getRankText(index) {\r\n        if (index > 2) {\r\n          return index + 1\r\n        }\r\n      }      \r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n  @import \"~common/stylus/variable\"\r\n  @import \"~common/stylus/mixin\"\r\n  \r\n  .song-list\r\n    .item\r\n      display: flex\r\n      align-items: center\r\n      box-sizing: border-box\r\n      height: 64px\r\n      font-size: $font-size-medium\r\n      .rank\r\n        flex: 0 0 25px\r\n        width: 25px\r\n        margin-right: 30px\r\n        text-align: center\r\n        .icon\r\n          display: inline-block\r\n          width: 25px\r\n          height: 24px\r\n          background-size: 25px 24px\r\n          &.icon0\r\n            bg-image('first')\r\n          &.icon1\r\n            bg-image('second')\r\n          &.icon2\r\n            bg-image('third')\r\n        .text\r\n          color: $color-theme\r\n          font-size: $font-size-large\r\n      .content\r\n        flex: 1\r\n        line-height: 20px\r\n        overflow: hidden\r\n        .name\r\n          no-wrap()\r\n          color: $color-text\r\n        .desc\r\n          no-wrap()\r\n          margin-top: 4px\r\n          color: $color-text-d\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/songlist/songlist.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"song-list\"},[_c('ul',_vm._l((_vm.songs),function(song,index){return _c('li',{key:index,staticClass:\"item\",on:{\"click\":function($event){_vm.selectItem(song,index)}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.rank),expression:\"rank\"}],staticClass:\"rank\"},[_c('span',{class:_vm.getRankCls(index),domProps:{\"textContent\":_vm._s(_vm.getRankText(index))}})]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('h2',{staticClass:\"name\"},[_vm._v(_vm._s(song.name))]),_vm._v(\" \"),_c('p',{staticClass:\"desc\"},[_vm._v(_vm._s(_vm.getDesc(song)))])])])}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-059e9adb\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/songlist/songlist.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-059e9adb\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./songlist.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./songlist.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./songlist.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-059e9adb\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./songlist.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-059e9adb\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/songlist/songlist.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"music-list\">\r\n      <div class=\"back\" @click='back'>\r\n          <i class=\"icon-back\"></i>\r\n      </div>\r\n      <h1 class=\"title\" v-html=\"title\"></h1>\r\n      <div class=\"bg-image\" :style=\"bgStyle\" ref=\"bgImage\">\r\n          <div class=\"play-wrapper\">\r\n              <div class=\"play\" ref='playBtn'>\r\n                  <i class=\"icon-play\" v-show=\"songs.length>0\"></i>\r\n                  <span class=\"text\" @click=\"randomPlayAll\">随机播放全部</span>\r\n              </div>\r\n          </div>\r\n          <div class=\"filter\" ref='filter'></div>\r\n      </div>\r\n      <div class=\"bg-layer\" ref=\"layer\"></div>\r\n      <!-- 监听scroll事件给bg-layer赋值,让它在Y方向偏移处于list上方的位置形成向上滑动的效果 -->\r\n      <scroll :data=\"songs\" class=\"list\" @scroll=\"scroll\" \r\n      ref=\"list\" :listenScorll=\"listenScroll\" :probe-type=\"probeType\"> \r\n          <div class=\"song-list-wrapper\">\r\n          <song-list :songs=\"songs\" @select=\"selectItem\" :rank=\"rank\"></song-list>\r\n          </div>\r\n          <div class=\"loading-container\" v-show=\"!songs.length\">\r\n              <loadding></loadding>\r\n          </div>\r\n      </scroll>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Scroll from 'base/scroll/scroll'\r\nimport SongList from 'base/songlist/songlist'\r\nimport Loadding from 'base/loadding/loadding'\r\nimport {prefix} from 'common/js/dom'\r\nimport {mapActions} from 'vuex'\r\nimport {playListMixin} from 'common/js/mixin'\r\nconst transform = prefix('transform')\r\nconst backdrop = prefix('backdrop-filter')\r\nconst RESERVED_HEIGHT = 40//保留高度\r\nexport default {\r\n  name:\"music-list\",\r\n  mixins:[playListMixin],\r\n  components:{\r\n      Scroll,\r\n      SongList,\r\n      Loadding\r\n  },\r\n  props:{\r\n      title:{\r\n          type:String,\r\n          default:''\r\n      },\r\n      songs:{\r\n          type:Array,\r\n          default:[]\r\n      },\r\n      bgImage:{\r\n          type:String,\r\n          default:''\r\n      },\r\n      rank:{\r\n          type:Boolean,\r\n          default:false\r\n      }\r\n  },\r\n  data() {\r\n      return {\r\n        scrollY: 0\r\n      }\r\n  },\r\n  computed:{\r\n      bgStyle(){\r\n          return `background-image:url(${this.bgImage})`          \r\n      },\r\n  },\r\n  mounted(){//refs.list 是一个组件所以要丶el获取元素.\r\n      this.imageHeight =  this.$refs.bgImage.clientHeight //记录图片高\r\n      this.miniTranslateY =   -this.imageHeight + RESERVED_HEIGHT \r\n      console.log(this.miniTranslateY)\r\n      //Y正方向上最小的偏移值\r\n      this.$refs.list.$el.style.top = this.imageHeight + 'px'\r\n      //让滚动组件距离和图片错开\r\n  },\r\n  created(){\r\n      this.listenScroll = true\r\n      this.probeType = 3 \r\n  },\r\n  methods:{\r\n      scroll(pos){//监听了scroll的值\r\n        this.scrollY = pos.y\r\n      },\r\n      back(){//路由回退\r\n          this.$router.back()\r\n      },\r\n      selectItem(song,index){\r\n          this.selectPlay({\r\n              list:this.songs,\r\n              index:index\r\n          })\r\n      },\r\n      randomPlayAll(){\r\n       this.randomPlay({\r\n           list:this.songs\r\n       })\r\n      },\r\n      handlePlayList(){//利用mixin方法,复用一些组件方法,适配播放器底部距离\r\n       const bottom= this.playList.length > 0 ? '60px' :''\r\n       this.$refs.list.$el.style.bottom = bottom\r\n       this.$refs.list.refresh()\r\n      },\r\n      ...mapActions([\r\n          'selectPlay',\r\n          'randomPlay'\r\n      ])\r\n  },\r\nwatch:{\r\n      scrollY(newVal){ //watch实时监听scrollY方向的新值\r\n        let translateY = Math.max(this.miniTranslateY, newVal)\r\n        let scale = 1\r\n        let zIndex = 0\r\n        let blur = 0\r\n        const percent = Math.abs(newVal / this.imageHeight)\r\n          //因为下拉时newVal 增加.要形成无缝放大的效果需要除以图片高度,算出比例\r\n          if(newVal >0){\r\n              scale = 1+percent\r\n              zIndex = 10\r\n          }else{\r\n             blur = Math.min(20 * percent*20)\r\n          }\r\n        this.$refs.layer.style['transform'] = `translate3d(0,${translateY}px,0)`\r\n        this.$refs.filter.style[backdrop] = `blur(${blur}px)`\r\n          if (newVal < this.miniTranslateY) {\r\n        //如果Scroll元素 Y正方向的偏移量 达到图片位置,(越向上越小)\r\n          zIndex = 10\r\n          this.$refs.bgImage.style.paddingTop = 0\r\n          this.$refs.bgImage.style.height = `${RESERVED_HEIGHT}px`\r\n          this.$refs.playBtn.style.display = 'none'\r\n        } else {\r\n          this.$refs.bgImage.style.paddingTop = '70%'\r\n          this.$refs.bgImage.style.height = 0\r\n          this.$refs.playBtn.style.display = ''\r\n        }\r\n        this.$refs.bgImage.style[transform] = `scale(${scale})`\r\n        this.$refs.bgImage.style.zIndex = zIndex\r\n      }\r\n      }\r\n  }\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n  @import \"~common/stylus/variable\"\r\n  @import \"~common/stylus/mixin\"\r\n\r\n  .music-list\r\n    position: fixed\r\n    z-index: 100\r\n    top: 0\r\n    left: 0\r\n    bottom: 0\r\n    right: 0\r\n    background: $color-background\r\n    .back\r\n      position absolute\r\n      top: 0\r\n      left: 6px\r\n      z-index: 50\r\n      .icon-back\r\n        display: block\r\n        padding: 10px\r\n        font-size: $font-size-large-x\r\n        color: $color-theme\r\n    .title\r\n      position: absolute\r\n      top: 0\r\n      left: 10%\r\n      z-index: 40\r\n      width: 80%\r\n      no-wrap()\r\n      text-align: center\r\n      line-height: 40px\r\n      font-size: $font-size-large\r\n      color: $color-text\r\n    .bg-image\r\n      position: relative\r\n      width: 100%\r\n      height: 0\r\n      padding-top: 70%\r\n      transform-origin: top\r\n      background-size: cover\r\n      .play-wrapper\r\n        position: absolute\r\n        bottom: 20px\r\n        z-index: 50\r\n        width: 100%\r\n        .play\r\n          box-sizing: border-box\r\n          width: 135px\r\n          padding: 7px 0\r\n          margin: 0 auto\r\n          text-align: center\r\n          border: 1px solid $color-theme\r\n          color: $color-theme\r\n          border-radius: 100px\r\n          font-size: 0\r\n          .icon-play\r\n            display: inline-block\r\n            vertical-align: middle\r\n            margin-right: 6px\r\n            font-size: $font-size-medium-x\r\n          .text\r\n            display: inline-block\r\n            vertical-align: middle\r\n            font-size: $font-size-small\r\n      .filter\r\n        position: absolute\r\n        top: 0\r\n        left: 0\r\n        width: 100%\r\n        height: 100%\r\n        background: rgba(7, 17, 27, 0.4)\r\n    .bg-layer\r\n      position: relative\r\n      height: 100%\r\n      background: $color-background\r\n    .list\r\n      position: absolute\r\n      top: 0\r\n      bottom: 0\r\n      width: 100%\r\n      background: $color-background\r\n      .song-list-wrapper\r\n        padding: 20px 30px\r\n      .loading-container\r\n        position: absolute\r\n        width: 100%\r\n        top: 50%\r\n        transform: translateY(-50%)\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/music-list/music-list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"music-list\"},[_c('div',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"icon-back\"})]),_vm._v(\" \"),_c('h1',{staticClass:\"title\",domProps:{\"innerHTML\":_vm._s(_vm.title)}}),_vm._v(\" \"),_c('div',{ref:\"bgImage\",staticClass:\"bg-image\",style:(_vm.bgStyle)},[_c('div',{staticClass:\"play-wrapper\"},[_c('div',{ref:\"playBtn\",staticClass:\"play\"},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.songs.length>0),expression:\"songs.length>0\"}],staticClass:\"icon-play\"}),_vm._v(\" \"),_c('span',{staticClass:\"text\",on:{\"click\":_vm.randomPlayAll}},[_vm._v(\"随机播放全部\")])])]),_vm._v(\" \"),_c('div',{ref:\"filter\",staticClass:\"filter\"})]),_vm._v(\" \"),_c('div',{ref:\"layer\",staticClass:\"bg-layer\"}),_vm._v(\" \"),_c('scroll',{ref:\"list\",staticClass:\"list\",attrs:{\"data\":_vm.songs,\"listenScorll\":_vm.listenScroll,\"probe-type\":_vm.probeType},on:{\"scroll\":_vm.scroll}},[_c('div',{staticClass:\"song-list-wrapper\"},[_c('song-list',{attrs:{\"songs\":_vm.songs,\"rank\":_vm.rank},on:{\"select\":_vm.selectItem}})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.songs.length),expression:\"!songs.length\"}],staticClass:\"loading-container\"},[_c('loadding')],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f29fa8f6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/music-list/music-list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f29fa8f6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./music-list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./music-list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./music-list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f29fa8f6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./music-list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f29fa8f6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/music-list/music-list.vue\n// module id = null\n// module chunks = ","<template>\r\n    <transition name=\"slide\">\r\n    <music-list :rank=\"rank\" :title=\"title\" :bg-image=\"bgImage\" :songs=\"songs\"></music-list>\r\n  </transition>\r\n</template>\r\n<script>\r\nimport {createSong, isValidMusic, processSongsUrl} from 'common/js/song'\r\nimport {getMusicList} from 'api/rank'\r\nimport { ERR_OK } from 'api/config'\r\nimport { mapGetters } from 'vuex'\r\nimport musicList from 'components/music-list/music-list'\r\nexport default {    \r\n data(){\r\n     return{\r\n         songs:[],\r\n         rank:true\r\n     }\r\n },\r\n created(){\r\n     this._getMusicList()\r\n },\r\n computed:{\r\n      title() {\r\n        return this.topList.topTitle\r\n      },\r\n      bgImage() {\r\n        if (this.songs.length) {\r\n          return this.songs[0].image\r\n        }\r\n        return ''\r\n      },     \r\n    ...mapGetters([\r\n        'topList'\r\n    ]) \r\n },\r\n methods:{\r\n     _getMusicList(){\r\n         if(!this.topList.id){\r\n             this.$router.push({\r\n                 path:'/rank'\r\n             })\r\n             return\r\n         }\r\n         getMusicList(this.topList.id).then((res)=>{\r\n             if(res.code ===ERR_OK){\r\n            processSongsUrl(this._normalizeSongs(res.songlist)).then((songs) => {\r\n              this.songs = songs\r\n            })                    \r\n             }\r\n         })\r\n     },\r\n      _normalizeSongs(list) {\r\n        let ret = []\r\n        list.forEach((item) => {\r\n          const musicData = item.data\r\n          if (isValidMusic(musicData)) {\r\n            ret.push(createSong(musicData))\r\n          }\r\n        })\r\n        return ret\r\n      }     \r\n },\r\n components:{\r\n     musicList\r\n }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\r\n  .slide-enter-active, .slide-leave-active\r\n    transition: all 0.3s ease\r\n\r\n  .slide-enter, .slide-leave-to\r\n    transform: translate3d(100%, 0, 0)\r\n</style>\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/top-list/top-list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('music-list',{attrs:{\"rank\":_vm.rank,\"title\":_vm.title,\"bg-image\":_vm.bgImage,\"songs\":_vm.songs}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-79cb88be\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/top-list/top-list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-79cb88be\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./top-list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./top-list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./top-list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-79cb88be\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./top-list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-79cb88be\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/top-list/top-list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}